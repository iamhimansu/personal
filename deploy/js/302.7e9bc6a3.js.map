{"version":3,"file":"js/302.7e9bc6a3.js","mappings":"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","sources":["webpack://personal/./src/pages/ArticleView.vue","webpack://personal/./src/pages/js/ArticleParser.js","webpack://personal/./src/pages/ArticleView.vue?7a21"],"sourcesContent":["<script>\r\nimport {mapGetters} from \"vuex\";\r\nimport ArticleParser from \"@/pages/js/ArticleParser\";\r\n\r\nexport default {\r\n  name: \"ArticleView\",\r\n  props: {\r\n    id: String,\r\n  },\r\n  computed: {\r\n    ...mapGetters(['getDB']),\r\n  },\r\n  data() {\r\n    return {\r\n      articleId: this.id,\r\n      article: {},\r\n      articleContentJson: {}\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.findArticle();\r\n  },\r\n  methods: {\r\n    findArticle() {\r\n      //Skip top 4 articles\r\n      const query = `SELECT * FROM articles WHERE id=?`;\r\n      //\r\n      const stmt = this.getDB.prepare(query);\r\n      stmt.bind([this.id]);\r\n      //\r\n      stmt.step();\r\n      this.article = stmt.getAsObject();\r\n      this.getArticleJson();\r\n      stmt.free();\r\n    },\r\n    getArticleJson() {\r\n      try {\r\n        const article = this.article;\r\n        this.articleContentJson = JSON.parse(article.json_content);\r\n        this.parseContent();\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n    parseContent() {\r\n      /*const parser = new edjsParser();\r\n      return parser.parse(this.articleContentJson);*/\r\n      const parser = new ArticleParser();\r\n      return parser.parse(this.articleContentJson);\r\n    },\r\n    formatDate(timestamp) {\r\n      const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n      const date = new Date(timestamp); // Convert the timestamp to milliseconds\r\n      return date.toLocaleDateString('en-US', options);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"p-8 w-full md:w-160 lg:w-200 mx-auto article-view\">\r\n    <div>\r\n      <h1 class=\"article-title my-6 mb-8 max-w-3xl font-crimson text-center\">{{ article.title }}</h1>\r\n    </div>\r\n    <div class=\"my-5 flex flex-col sm:flex-row flex-wrap items-center justify-center self-center font-poppins font-medium text-sm space-x-2 \">\r\n      <div class=\"\"> {{ formatDate(article.createdAt) }}</div>\r\n      <div class=\"scale-150\">·</div>\r\n      <div class=\"\">Updated — November 27, 2021</div></div>\r\n    <div v-html=\"parseContent()\"></div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>","export default class ArticleParser {\r\n    constructor() {\r\n        this.contents = null;\r\n        this.renderedOutput = [];\r\n        this.blockMaps =\r\n            {\r\n                paragraph: {\r\n                    name: 'paragraph',\r\n                    contentLocation: 'text',\r\n                    render: (content) => {\r\n                        return `<div class=\"mb-4 font-crimson text-gray-700 text-xl leading-8 font-normal\">${content.text}</div>`;\r\n                    }\r\n                },\r\n                code: {\r\n                    name: 'code',\r\n                    contentLocation: 'code',\r\n                    render: (content) => {\r\n                        return `<div class=\"relative bg-gray-100 min-h-200 font-inconsolata text-#41314e leading-6 text-sm border border-#f1f1f4 overflow-x-auto resize-y whitespace-pre p-4\">${content.code}</div>`;\r\n                    }\r\n                },\r\n                header: {\r\n                    name: 'header',\r\n                    contentLocation: 'text',\r\n                    extraAttributes: ['level'],\r\n                    render: (content) => {\r\n                        return `<div class=\"py-3 px-0 mt-0 leading-5 outline-none\">${content.text}</div>`;\r\n                    }\r\n                },\r\n                nested: {\r\n                    name: 'list',\r\n                    contentLocation: 'items',\r\n                    extraAttributes: [],\r\n                    render: (content) => {\r\n                        function generateNestedListHTML(item) {\r\n                            const htmlArray = [];\r\n                            htmlArray.push(`<li class=\"p-2\">${item.content}`);\r\n\r\n                            if (item.items.length > 0) {\r\n                                htmlArray.push('<ul class=\\'list-disc ml-4\\'>');\r\n                                item.items.forEach(subItem => {\r\n                                    htmlArray.push(generateNestedListHTML(subItem));\r\n                                });\r\n                                htmlArray.push('</ul>');\r\n                            }\r\n\r\n                            htmlArray.push('</li>');\r\n                            return htmlArray.join('');\r\n                        }\r\n\r\n                        return '<ul class=\"list-disc\">' + generateNestedListHTML(content.items[0]) + '</ul>';\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\n    parse(contents) {\r\n        try {\r\n            this.contents = contents;\r\n            /**\r\n             * Iterate over the block contents\r\n             */\r\n            for (const block of this.contents.blocks) {\r\n                if (typeof this.blockMaps[block.type] !== 'undefined') {\r\n                    this.renderedOutput.push(this.blockMaps[block.type].render(block.data));\r\n                }\r\n            }\r\n            return this.renderedOutput.join('');\r\n        } catch (e) {\r\n            console.log('Failed to parse contents: ', e);\r\n            return '';\r\n        }\r\n    }\r\n}","import { render } from \"./ArticleView.vue?vue&type=template&id=76048bd0\"\nimport script from \"./ArticleView.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","$data","article","title","_hoisted_3","_hoisted_4","$options","formatDate","createdAt","_hoisted_5","_hoisted_6","innerHTML","parseContent","ArticleParser","constructor","this","contents","renderedOutput","blockMaps","paragraph","name","contentLocation","render","content","text","code","header","extraAttributes","nested","generateNestedListHTML","item","htmlArray","push","items","length","forEach","subItem","join","parse","block","blocks","type","data","e","console","log","props","id","String","computed","mapGetters","articleId","articleContentJson","beforeMount","findArticle","methods","query","stmt","getDB","prepare","bind","step","getAsObject","getArticleJson","free","JSON","json_content","parser","timestamp","options","year","month","day","date","Date","toLocaleDateString","__exports__"],"sourceRoot":""}