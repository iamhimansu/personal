{"version":3,"file":"js/400.71dbd810.js","mappings":"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","sources":["webpack://personal/./src/app/Model.js","webpack://personal/./src/components/ErrorSummary.vue","webpack://personal/./src/components/ErrorSummary.vue?4de6","webpack://personal/./src/pages/RegisterPage.vue","webpack://personal/./src/pages/js/RegisterUser.js","webpack://personal/./src/pages/RegisterPage.vue?df88"],"sourcesContent":["export default class Model {\r\n    constructor() {\r\n    }\r\n    static getClassName() {\r\n        return this.constructor.name; // 'this' refers to the current class\r\n    }\r\n    rules() {\r\n        return [];\r\n    }\r\n\r\n    static find(){\r\n        console.log(this.getClassName())\r\n    }\r\n\r\n}","<script>\r\nexport default {\r\n  name: \"ErrorSummary\",\r\n  props: {\r\n    errors: Array\r\n  },\r\n  data() {\r\n    return {}\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div v-if=\"errors.length\" class=\"w-full border border-red-300 rounded p-2 bg-red-50 text-xs mb-3\">\r\n    <ul class=\"list-item list-disc ml-4\">\r\n      <li v-for=\"(error, index) in errors\" :key=\"index\" class=\"text-red-600\">\r\n        {{ errors[index]?.message }}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./ErrorSummary.vue?vue&type=template&id=35e7b0ff\"\nimport script from \"./ErrorSummary.vue?vue&type=script&lang=js\"\nexport * from \"./ErrorSummary.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport RegisterUser from \"@/pages/js/RegisterUser\";\r\nimport ErrorSummary from \"@/components/ErrorSummary.vue\";\r\nimport {mapGetters} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"RegisterPage\",\r\n  components: {ErrorSummary},\r\n  computed:{\r\n    ...mapGetters(['getDB'])\r\n  },\r\n  data() {\r\n    return {\r\n      passwordType: 'password',\r\n      passwordIcon: 'bi bi-eye',\r\n      name: '',\r\n      password: '',\r\n      passwordConfirm: '',\r\n      email: '',\r\n      errors: []\r\n    }\r\n  },\r\n  methods: {\r\n    setPasswordType() {\r\n      this.passwordType = this.passwordType === 'password' ? 'text' : 'password';\r\n      this.passwordIcon = this.passwordIcon === 'bi bi-eye' ? 'bi bi-eye-slash' : 'bi bi-eye';\r\n    },\r\n    register() {\r\n      const User = {\r\n        name: this.name,\r\n        email: this.email,\r\n        password: this.password,\r\n        passwordConfirm: this.passwordConfirm\r\n      };\r\n      const Register = new RegisterUser(User, this.getDB);\r\n      this.errors = Register.collectErrors();\r\n      Register.save();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"my-3 p-2 py-4 md:p-8\">\r\n    <div\r\n        class=\"p-8 flex flex-col w-full md:w-96 place-items-start md:border border-gray-100 md:shadow-xl md:rounded mx-auto\">\r\n      <div class=\"header\">\r\n        <h1 class=\"text-2xl font-bold mb-2\">\r\n          Register\r\n        </h1>\r\n        <h4 class=\"text-xs font-bold mb-3\">\r\n          Hi, please register\r\n        </h4>\r\n      </div>\r\n      <div class=\"social-login w-full mt-3 mb-3\">\r\n        <button class=\"w-full border p-2 text-[10px] rounded font-bold hover:bg-gray-100\">Login with Google</button>\r\n      </div>\r\n      <error-summary :errors=\"errors\"></error-summary>\r\n      <div class=\"w-full mb-3\">\r\n        <label class=\"block text-xs font-medium leading-6 text-gray-900\" for=\"name\">Name</label>\r\n        <div class=\"rounded-md shadow-sm\">\r\n          <input id=\"name\" v-model=\"name\"\r\n                 class=\"block w-full text-sm rounded-md border ring-0 outline-0 py-1.5 pl-5 text-gray-900 placeholder:text-gray-400  sm:text-sm sm:leading-6\"\r\n                 name=\"name\"\r\n                 placeholder=\"Name\"\r\n                 type=\"text\">\r\n        </div>\r\n      </div>\r\n      <div class=\"w-full mb-3\">\r\n        <label class=\"block text-xs font-medium leading-6 text-gray-900\" for=\"email\">Email</label>\r\n        <div class=\"rounded-md shadow-sm\">\r\n          <input id=\"email\" v-model=\"email\"\r\n                 class=\"block w-full text-sm rounded-md border ring-0 outline-0 py-1.5 pl-5 text-gray-900 placeholder:text-gray-400  sm:text-sm sm:leading-6\"\r\n                 name=\"email\"\r\n                 placeholder=\"E.g. johndoe@email.com\"\r\n                 type=\"email\">\r\n        </div>\r\n      </div>\r\n      <div class=\"w-full mb-3\">\r\n        <label class=\"block text-xs font-medium leading-6 text-gray-900\" for=\"password\">Password</label>\r\n        <div class=\"relative rounded-md shadow-sm\">\r\n          <input id=\"password\" v-model=\"password\"\r\n                 :type=\"passwordType\"\r\n                 class=\"block w-full rounded-md border outline-0 py-1.5 pl-5 pr-20 text-gray-900 ring-0 placeholder:text-gray-400 sm:text-sm sm:leading-6 text-sm\"\r\n                 name=\"password\"\r\n                 placeholder=\"Enter your password\">\r\n          <div class=\"absolute inset-y-0 right-0 flex items-center\">\r\n            <label class=\"sr-only\">View</label>\r\n            <button class=\"w-10 h-full\" @click=\"setPasswordType\"><i :class=\"passwordIcon\"></i></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"w-full mb-3\">\r\n        <label class=\"block text-xs font-medium leading-6 text-gray-900\" for=\"re-password\">Re-enter Password</label>\r\n        <div class=\"relative rounded-md shadow-sm\">\r\n          <input id=\"re-password\" v-model=\"passwordConfirm\"\r\n                 :type=\"passwordType\"\r\n                 class=\"block w-full rounded-md border outline-0 py-1.5 pl-5 pr-20 text-gray-900 ring-0 placeholder:text-gray-400 sm:text-sm sm:leading-6 text-sm\"\r\n                 name=\"password\"\r\n                 placeholder=\"Confirm your password\">\r\n        </div>\r\n      </div>\r\n      <div class=\"w-full mb-3\">\r\n        <button class=\"bg-gray-800 text-xs h-10 text-white rounded w-full p-2 text-center hover:bg-gray-700\"\r\n                @click=\"register()\">Register\r\n        </button>\r\n      </div>\r\n      <div class=\"w-full mt-2 mb-3 text-center text-xs\">\r\n        Have an account?\r\n        <router-link class=\"text-black font-bold\" to=\"/login\">Login</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>","import Model from \"@/app/Model\";\r\n\r\nexport default class RegisterModel extends Model{\r\n    constructor(userObject, db) {\r\n        super();\r\n        this.name = userObject.name;\r\n        this.email = userObject.email;\r\n        this.password = userObject.password;\r\n        this.passwordConfirm = userObject.passwordConfirm;\r\n        this.db = db;\r\n        this.previousUsers = [];\r\n    }\r\n\r\n    validate() {\r\n        this.errors = [];\r\n        if (!this.name.length) {\r\n            this.errors.push({attribute: 'name', message: 'Name cannot be empty.'});\r\n        }\r\n        if (!this.email.length) {\r\n            this.errors.push({attribute: 'email', message: 'Email cannot be empty.'});\r\n        }\r\n        if (!this.password.length) {\r\n            this.errors.push({attribute: 'password', message: 'Password cannot be empty.'});\r\n        } else if (this.password.length < 8) {\r\n            this.errors.push({attribute: 'password', message: 'Password should be greater than 8 characters.'});\r\n        } else if (this.password !== this.passwordConfirm) {\r\n            this.errors.push({attribute: 'passwordConfirm', message: 'Passwords dont match.'});\r\n        }\r\n        return this.errors.length === 0;\r\n    }\r\n\r\n    collectErrors() {\r\n        this.validate();\r\n        return this.errors;\r\n    }\r\n\r\n    save() {\r\n        if (this.validate()) {\r\n            this.insertData();\r\n        } else {\r\n            console.log(this.errors)\r\n        }\r\n    }\r\n\r\n    insertData() {\r\n\r\n        this.db.exec(\"BEGIN;\");\r\n\r\n        const query = `\r\n        INSERT INTO core_users (name, email, password, passwordHash, createdAt)\r\n        VALUES (:name,:email,:password,:passwordHash,:createdAt)\r\n      `;\r\n        const stmt = this.db.prepare(query);\r\n        stmt.bind({\r\n            \":name\": this.name,\r\n            \":password\": this.password,\r\n            \":passwordHash\": this.password,\r\n            \":email\": this.email,\r\n            \":createdAt\": new Date().getTime()\r\n        });\r\n        stmt.run();\r\n        stmt.free();\r\n        this.db.exec('COMMIT;');\r\n        const selectUsers = `SELECT * FROM core_users`;\r\n        //\r\n        const stmt1 = this.db.prepare(selectUsers);\r\n        //\r\n        while (stmt1.step()) {\r\n            this.previousUsers.push(stmt1.getAsObject())\r\n        }\r\n        stmt1.free();\r\n\r\n        console.log(this.previousUsers);\r\n    }\r\n}","import { render } from \"./RegisterPage.vue?vue&type=template&id=05b0e3fe\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["Model","constructor","getClassName","this","name","rules","find","console","log","class","$props","errors","length","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","error","index","key","message","props","Array","data","__exports__","render","for","_hoisted_3","_createVNode","_component_error_summary","$data","_hoisted_5","_hoisted_6","_hoisted_7","id","$event","placeholder","type","_hoisted_8","_hoisted_9","_hoisted_10","email","_hoisted_11","_hoisted_12","_hoisted_13","password","passwordType","_hoisted_15","_hoisted_16","onClick","_cache","args","$options","setPasswordType","_normalizeClass","passwordIcon","_hoisted_17","_hoisted_18","_hoisted_19","passwordConfirm","_hoisted_21","register","_hoisted_22","_component_router_link","to","RegisterModel","userObject","db","super","previousUsers","validate","push","attribute","collectErrors","save","insertData","exec","query","stmt","prepare","bind","Date","getTime","run","free","selectUsers","stmt1","step","getAsObject","components","ErrorSummary","computed","mapGetters","methods","User","Register","RegisterUser","getDB"],"sourceRoot":""}